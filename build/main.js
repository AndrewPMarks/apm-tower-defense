(()=>{var e={528:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(352),n=r.n(i)()((function(e){return e[1]}));n.push([e.id,'html,body{width:100%;height:100%;margin:0;font-family:"Courier New",Courier,monospace}#victory{position:absolute;left:50%;top:50%;margin-left:-200px;margin-top:-100px;background-color:#00000099;backdrop-filter:blur(8px);width:600px;height:200px;display:flex;flex-direction:column;color:#fff;justify-content:center;box-shadow:0 0 6px 0 rgba(0,0,0,.7);opacity:0;pointer-events:none;transition:all .2s}#victory .content{text-align:center}#victory .content .title{font-size:2em;padding-bottom:.4em}#victory.visible{opacity:1;pointer-events:all}button{font-family:inherit}#money::before{content:"$"}#game-controls{left:0;background-color:#00000066}#game-controls .heading{font-size:1.3em;padding:.4em 0}#game-controls .heading:first-of-type{padding-top:0}#game-controls .button-group{display:flex;flex-direction:column}#game-controls .button-group .control-button{margin-bottom:.4em;border:none;outline:none;padding:.5em 0;color:#fff;background-color:#202020;cursor:pointer;border-radius:2px;transition:all .08s ease-out;box-shadow:0 0 2px 0 rgba(0,0,0,.3)}#game-controls .button-group .control-button:hover:not(:disabled){background-color:#101010;box-shadow:0 0 4px 0 rgba(0,0,0,.7)}#game-controls .button-group .control-button:disabled{background-color:#404040;color:#ccc;cursor:default}#tower-overlay,#game-controls{position:fixed;box-sizing:border-box;bottom:0;width:200px;top:0;box-shadow:0 0 5px 0 rgba(0,0,0,.4);color:#fff;padding:1em;font-size:14px}#tower-overlay{background-color:#00000099;backdrop-filter:blur(8px);opacity:0;pointer-events:none;left:-25px;transition:all .1s ease-out}#tower-overlay.visible{pointer-events:all;opacity:1;left:0}#tower-overlay .stat{display:flex;justify-content:space-between;margin-bottom:.5em;height:32px;align-items:center}#tower-overlay .stat .label{padding-right:.2em}#tower-overlay .action .button{border:none;outline:none;background-color:#ccc;transition:all .08s ease-out;box-shadow:0 0 2px 0 rgba(255,255,255,.6);border-radius:2px;padding:.4em .8em;cursor:pointer}#tower-overlay .action .button:disabled{color:#444;background-color:#888}#tower-overlay .action .button:hover{background-color:#fff;box-shadow:0 0 4px 0 rgba(255,255,255,.8)}#tower-overlay .action .button:hover:disabled{background-color:#888;color:#444;box-shadow:0 0 2px 0 rgba(255,255,255,.6)}#stats{position:fixed;top:0;right:0;padding:.4em 1em;font-family:"Courier New",Courier,monospace;color:#fff;background-color:#00000066;box-shadow:0 0 5px 0 rgba(0,0,0,.4);display:flex;flex-direction:column}#stats .stat{display:flex;justify-content:space-between;flex-direction:column;padding:.2em 0;transition:all .3s ease-out;cursor:default}#stats .stat .label{transition:all .3s ease-out;text-align:left;border-bottom:1px solid rgba(255,255,255,0);box-sizing:border-box}#stats .stat .value{text-align:right}#stats .stat.secondary{max-width:0;max-height:0;overflow:hidden;padding:0}#stats:hover .stat .label{border-color:rgba(255,255,255,.8);margin-bottom:.2em}#stats:hover .stat.secondary{max-width:200px;max-height:50px;padding:.2em 0}',""]);const a=n},588:(e,t,r)=>{r(881),t.po=function(e,t){return new Promise((function(r,i){const n=Object.assign(document.createElement("img"),t);function a(){n.onload=null,n.onerror=null}n.onload=function(){a(),r(n)},n.onerror=function(){a(),i(new Error('Failed to load the image "'+e+'"'))},n.src=e}))}},881:e=>{"use strict";const t="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",r=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),i=new RegExp("(italic|oblique) +","i"),n=new RegExp("(small-caps) +","i"),a=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),s=new RegExp("([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:"+t+")( *, *(?:"+t+"))*)"),o={};e.exports=function(e){if(o[e])return o[e];const t=s.exec(e);if(!t)return;const h={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")};let l,u,c,d,f=e.substring(0,t.index);switch((l=r.exec(f))&&(h.weight=l[1]),(u=i.exec(f))&&(h.style=u[1]),(c=n.exec(f))&&(h.variant=c[1]),(d=a.exec(f))&&(h.stretch=d[1]),h.unit){case"pt":h.size/=.75;break;case"pc":h.size*=16;break;case"in":h.size*=96;break;case"cm":h.size*=96/2.54;break;case"mm":h.size*=96/25.4;break;case"%":break;case"em":case"rem":h.size*=16/.75;break;case"q":h.size*=96/25.4/4}return o[e]=h}},175:(e,t,r)=>{var i=r(283),n={};for(var a in i)i.hasOwnProperty(a)&&(n[i[a]]=a);var s=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var o in s)if(s.hasOwnProperty(o)){if(!("channels"in s[o]))throw new Error("missing channels property: "+o);if(!("labels"in s[o]))throw new Error("missing channel labels property: "+o);if(s[o].labels.length!==s[o].channels)throw new Error("channel and label counts mismatch: "+o);var h=s[o].channels,l=s[o].labels;delete s[o].channels,delete s[o].labels,Object.defineProperty(s[o],"channels",{value:h}),Object.defineProperty(s[o],"labels",{value:l})}s.rgb.hsl=function(e){var t,r,i=e[0]/255,n=e[1]/255,a=e[2]/255,s=Math.min(i,n,a),o=Math.max(i,n,a),h=o-s;return o===s?t=0:i===o?t=(n-a)/h:n===o?t=2+(a-i)/h:a===o&&(t=4+(i-n)/h),(t=Math.min(60*t,360))<0&&(t+=360),r=(s+o)/2,[t,100*(o===s?0:r<=.5?h/(o+s):h/(2-o-s)),100*r]},s.rgb.hsv=function(e){var t,r,i,n,a,s=e[0]/255,o=e[1]/255,h=e[2]/255,l=Math.max(s,o,h),u=l-Math.min(s,o,h),c=function(e){return(l-e)/6/u+.5};return 0===u?n=a=0:(a=u/l,t=c(s),r=c(o),i=c(h),s===l?n=i-r:o===l?n=1/3+t-i:h===l&&(n=2/3+r-t),n<0?n+=1:n>1&&(n-=1)),[360*n,100*a,100*l]},s.rgb.hwb=function(e){var t=e[0],r=e[1],i=e[2];return[s.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(r,i))*100,100*(i=1-1/255*Math.max(t,Math.max(r,i)))]},s.rgb.cmyk=function(e){var t,r=e[0]/255,i=e[1]/255,n=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-i,1-n)))/(1-t)||0),100*((1-i-t)/(1-t)||0),100*((1-n-t)/(1-t)||0),100*t]},s.rgb.keyword=function(e){var t=n[e];if(t)return t;var r,a,s,o=1/0;for(var h in i)if(i.hasOwnProperty(h)){var l=(a=e,s=i[h],Math.pow(a[0]-s[0],2)+Math.pow(a[1]-s[1],2)+Math.pow(a[2]-s[2],2));l<o&&(o=l,r=h)}return r},s.keyword.rgb=function(e){return i[e]},s.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*t+.7152*r+.0722*i),100*(.0193*t+.1192*r+.9505*i)]},s.rgb.lab=function(e){var t=s.rgb.xyz(e),r=t[0],i=t[1],n=t[2];return i/=100,n/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(r-i),200*(i-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},s.hsl.rgb=function(e){var t,r,i,n,a,s=e[0]/360,o=e[1]/100,h=e[2]/100;if(0===o)return[a=255*h,a,a];t=2*h-(r=h<.5?h*(1+o):h+o-h*o),n=[0,0,0];for(var l=0;l<3;l++)(i=s+1/3*-(l-1))<0&&i++,i>1&&i--,a=6*i<1?t+6*(r-t)*i:2*i<1?r:3*i<2?t+(r-t)*(2/3-i)*6:t,n[l]=255*a;return n},s.hsl.hsv=function(e){var t=e[0],r=e[1]/100,i=e[2]/100,n=r,a=Math.max(i,.01);return r*=(i*=2)<=1?i:2-i,n*=a<=1?a:2-a,[t,100*(0===i?2*n/(a+n):2*r/(i+r)),(i+r)/2*100]},s.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,i=e[2]/100,n=Math.floor(t)%6,a=t-Math.floor(t),s=255*i*(1-r),o=255*i*(1-r*a),h=255*i*(1-r*(1-a));switch(i*=255,n){case 0:return[i,h,s];case 1:return[o,i,s];case 2:return[s,i,h];case 3:return[s,o,i];case 4:return[h,s,i];case 5:return[i,s,o]}},s.hsv.hsl=function(e){var t,r,i,n=e[0],a=e[1]/100,s=e[2]/100,o=Math.max(s,.01);return i=(2-a)*s,r=a*o,[n,100*(r=(r/=(t=(2-a)*o)<=1?t:2-t)||0),100*(i/=2)]},s.hwb.rgb=function(e){var t,r,i,n,a,s,o,h=e[0]/360,l=e[1]/100,u=e[2]/100,c=l+u;switch(c>1&&(l/=c,u/=c),i=6*h-(t=Math.floor(6*h)),0!=(1&t)&&(i=1-i),n=l+i*((r=1-u)-l),t){default:case 6:case 0:a=r,s=n,o=l;break;case 1:a=n,s=r,o=l;break;case 2:a=l,s=r,o=n;break;case 3:a=l,s=n,o=r;break;case 4:a=n,s=l,o=r;break;case 5:a=r,s=l,o=n}return[255*a,255*s,255*o]},s.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,i=e[2]/100,n=e[3]/100;return[255*(1-Math.min(1,t*(1-n)+n)),255*(1-Math.min(1,r*(1-n)+n)),255*(1-Math.min(1,i*(1-n)+n))]},s.xyz.rgb=function(e){var t,r,i,n=e[0]/100,a=e[1]/100,s=e[2]/100;return r=-.9689*n+1.8758*a+.0415*s,i=.0557*n+-.204*a+1.057*s,t=(t=3.2406*n+-1.5372*a+-.4986*s)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(i=Math.min(Math.max(0,i),1))]},s.xyz.lab=function(e){var t=e[0],r=e[1],i=e[2];return r/=100,i/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},s.lab.xyz=function(e){var t,r,i,n=e[0];t=e[1]/500+(r=(n+16)/116),i=r-e[2]/200;var a=Math.pow(r,3),s=Math.pow(t,3),o=Math.pow(i,3);return r=a>.008856?a:(r-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,i=o>.008856?o:(i-16/116)/7.787,[t*=95.047,r*=100,i*=108.883]},s.lab.lch=function(e){var t,r=e[0],i=e[1],n=e[2];return(t=360*Math.atan2(n,i)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(i*i+n*n),t]},s.lch.lab=function(e){var t,r=e[0],i=e[1];return t=e[2]/360*2*Math.PI,[r,i*Math.cos(t),i*Math.sin(t)]},s.rgb.ansi16=function(e){var t=e[0],r=e[1],i=e[2],n=1 in arguments?arguments[1]:s.rgb.hsv(e)[2];if(0===(n=Math.round(n/50)))return 30;var a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===n&&(a+=60),a},s.hsv.ansi16=function(e){return s.rgb.ansi16(s.hsv.rgb(e),e[2])},s.rgb.ansi256=function(e){var t=e[0],r=e[1],i=e[2];return t===r&&r===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)},s.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},s.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},s.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},s.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map((function(e){return e+e})).join(""));var i=parseInt(r,16);return[i>>16&255,i>>8&255,255&i]},s.rgb.hcg=function(e){var t,r=e[0]/255,i=e[1]/255,n=e[2]/255,a=Math.max(Math.max(r,i),n),s=Math.min(Math.min(r,i),n),o=a-s;return t=o<=0?0:a===r?(i-n)/o%6:a===i?2+(n-r)/o:4+(r-i)/o+4,t/=6,[360*(t%=1),100*o,100*(o<1?s/(1-o):0)]},s.hsl.hcg=function(e){var t,r=e[1]/100,i=e[2]/100,n=0;return(t=i<.5?2*r*i:2*r*(1-i))<1&&(n=(i-.5*t)/(1-t)),[e[0],100*t,100*n]},s.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,i=t*r,n=0;return i<1&&(n=(r-i)/(1-i)),[e[0],100*i,100*n]},s.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,i=e[2]/100;if(0===r)return[255*i,255*i,255*i];var n,a=[0,0,0],s=t%1*6,o=s%1,h=1-o;switch(Math.floor(s)){case 0:a[0]=1,a[1]=o,a[2]=0;break;case 1:a[0]=h,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=o;break;case 3:a[0]=0,a[1]=h,a[2]=1;break;case 4:a[0]=o,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=h}return n=(1-r)*i,[255*(r*a[0]+n),255*(r*a[1]+n),255*(r*a[2]+n)]},s.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),i=0;return r>0&&(i=t/r),[e[0],100*i,100*r]},s.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,i=0;return r>0&&r<.5?i=t/(2*r):r>=.5&&r<1&&(i=t/(2*(1-r))),[e[0],100*i,100*r]},s.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},s.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,i=r-t,n=0;return i<1&&(n=(r-i)/(1-i)),[e[0],100*i,100*n]},s.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},s.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},s.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},s.gray.hsl=s.gray.hsv=function(e){return[0,0,e[0]]},s.gray.hwb=function(e){return[0,100,e[0]]},s.gray.cmyk=function(e){return[0,0,0,e[0]]},s.gray.lab=function(e){return[e[0],0,0]},s.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},s.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},119:(e,t,r)=>{var i=r(175),n=r(798),a={};Object.keys(i).forEach((function(e){a[e]={},Object.defineProperty(a[e],"channels",{value:i[e].channels}),Object.defineProperty(a[e],"labels",{value:i[e].labels});var t=n(e);Object.keys(t).forEach((function(r){var i=t[r];a[e][r]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var i=r.length,n=0;n<i;n++)r[n]=Math.round(r[n]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(i),a[e][r].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(i)}))})),e.exports=a},798:(e,t,r)=>{var i=r(175);function n(e,t){return function(r){return t(e(r))}}function a(e,t){for(var r=[t[e].parent,e],a=i[t[e].parent][e],s=t[e].parent;t[s].parent;)r.unshift(t[s].parent),a=n(i[t[s].parent][s],a),s=t[s].parent;return a.conversion=r,a}e.exports=function(e){for(var t=function(e){var t=function(){for(var e={},t=Object.keys(i),r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var n=r.pop(),a=Object.keys(i[n]),s=a.length,o=0;o<s;o++){var h=a[o],l=t[h];-1===l.distance&&(l.distance=t[n].distance+1,l.parent=n,r.unshift(h))}return t}(e),r={},n=Object.keys(t),s=n.length,o=0;o<s;o++){var h=n[o];null!==t[h].parent&&(r[h]=a(h,t))}return r}},283:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},111:(e,t,r)=>{var i=r(283),n=r(827),a={};for(var s in i)i.hasOwnProperty(s)&&(a[i[s]]=s);var o=e.exports={to:{},get:{}};function h(e,t,r){return Math.min(Math.max(t,e),r)}function l(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}o.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=o.get.hsl(e),r="hsl";break;case"hwb":t=o.get.hwb(e),r="hwb";break;default:t=o.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},o.get.rgb=function(e){if(!e)return null;var t,r,n,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=t[2],t=t[1],r=0;r<3;r++){var s=2*r;a[r]=parseInt(t.slice(s,s+2),16)}n&&(a[3]=parseInt(n,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(n=(t=t[1])[3],r=0;r<3;r++)a[r]=parseInt(t[r]+t[r],16);n&&(a[3]=parseInt(n+n,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)a[r]=parseInt(t[r+1],0);t[4]&&(a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(a=i[t[1]])?(a[3]=1,a):null:null;for(r=0;r<3;r++)a[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(a[3]=parseFloat(t[4]))}for(r=0;r<3;r++)a[r]=h(a[r],0,255);return a[3]=h(a[3],0,1),a},o.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,h(parseFloat(t[2]),0,100),h(parseFloat(t[3]),0,100),h(isNaN(r)?1:r,0,1)]}return null},o.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,h(parseFloat(t[2]),0,100),h(parseFloat(t[3]),0,100),h(isNaN(r)?1:r,0,1)]}return null},o.to.hex=function(){var e=n(arguments);return"#"+l(e[0])+l(e[1])+l(e[2])+(e[3]<1?l(Math.round(255*e[3])):"")},o.to.rgb=function(){var e=n(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},o.to.rgb.percent=function(){var e=n(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+i+"%)":"rgba("+t+"%, "+r+"%, "+i+"%, "+e[3]+")"},o.to.hsl=function(){var e=n(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},o.to.hwb=function(){var e=n(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},o.to.keyword=function(e){return a[e.slice(0,3)]}},772:(e,t,r)=>{"use strict";var i=r(111),n=r(119),a=[].slice,s=["keyword","gray","hex"],o={};Object.keys(n).forEach((function(e){o[a.call(n[e].labels).sort().join("")]=e}));var h={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in s&&(t=null),t&&!(t in n))throw new Error("Unknown model: "+t);var r,u;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var c=i.get(e);if(null===c)throw new Error("Unable to parse color from string: "+e);this.model=c.model,u=n[this.model].channels,this.color=c.value.slice(0,u),this.valpha="number"==typeof c.value[u]?c.value[u]:1}else if(e.length){this.model=t||"rgb",u=n[this.model].channels;var d=a.call(e,0,u);this.color=f(d,u),this.valpha="number"==typeof e[u]?e[u]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var L=p.sort().join("");if(!(L in o))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=o[L];var g=n[this.model].labels,m=[];for(r=0;r<g.length;r++)m.push(e[g[r]]);this.color=f(m)}if(h[this.model])for(u=n[this.model].channels,r=0;r<u;r++){var v=h[this.model][r];v&&(this.color[r]=v(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function u(e,t,r){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(h[e]||(h[e]=[]))[t]=r})),e=e[0],function(i){var n;return arguments.length?(r&&(i=r(i)),(n=this[e]()).color[t]=i,n):(n=this[e]().color[t],r&&(n=r(n)),n)}}function c(e){return function(t){return Math.max(0,Math.min(e,t))}}function d(e){return Array.isArray(e)?e:[e]}function f(e,t){for(var r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in i.to?this:this.rgb(),r=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return i.to[t.model](r)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:t.color.concat(this.valpha);return i.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=n[this.model].channels,r=n[this.model].labels,i=0;i<t;i++)e[r[i]]=this.color[i];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new l(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:u("rgb",0,c(255)),green:u("rgb",1,c(255)),blue:u("rgb",2,c(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:u("hsl",1,c(100)),lightness:u("hsl",2,c(100)),saturationv:u("hsv",1,c(100)),value:u("hsv",2,c(100)),chroma:u("hcg",1,c(100)),gray:u("hcg",2,c(100)),white:u("hwb",1,c(100)),wblack:u("hwb",2,c(100)),cyan:u("cmyk",0,c(100)),magenta:u("cmyk",1,c(100)),yellow:u("cmyk",2,c(100)),black:u("cmyk",3,c(100)),x:u("xyz",0,c(100)),y:u("xyz",1,c(100)),z:u("xyz",2,c(100)),l:u("lab",0,c(100)),a:u("lab",1),b:u("lab",2),keyword:function(e){return arguments.length?new l(e):n[this.model].keyword(this.color)},hex:function(e){return arguments.length?new l(e):i.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var i=e[r]/255;t[r]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r=(r+e)%360)<0?360+r:r,t.color[0]=r,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var r=e.rgb(),i=this.rgb(),n=void 0===t?.5:t,a=2*n-1,s=r.alpha()-i.alpha(),o=((a*s==-1?a:(a+s)/(1+a*s))+1)/2,h=1-o;return l.rgb(o*r.red()+h*i.red(),o*r.green()+h*i.green(),o*r.blue()+h*i.blue(),r.alpha()*n+i.alpha()*(1-n))}},Object.keys(n).forEach((function(e){if(-1===s.indexOf(e)){var t=n[e].channels;l.prototype[e]=function(){if(this.model===e)return new l(this);if(arguments.length)return new l(arguments,e);var r="number"==typeof arguments[t]?t:this.valpha;return new l(d(n[this.model][e].raw(this.color)).concat(r),e)},l[e]=function(r){return"number"==typeof r&&(r=f(a.call(arguments),t)),new l(r,e)}}})),e.exports=l},352:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(n[s]=!0)}for(var o=0;o<e.length;o++){var h=[].concat(e[o]);i&&n[h[0]]||(r&&(h[2]?h[2]="".concat(r," and ").concat(h[2]):h[2]=r),t.push(h))}},t}},238:e=>{e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},589:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.cubic=function(e,t,r,i,n){var a=i-r-(e-t);return a*n*n*n+(e-t-a)*n*n+(r-e)*n+t},e.linear=function(e,t,r){return(1-r)*e+r*t},e.cubicSCurve=function(e){return e*e*(3-2*e)},e.quinticSCurve=function(e){var t=e*e*e,r=t*e;return r*e*6-15*r+10*t},e}();t.default=r},10:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.PI=Math.PI,e.SQRT_2=Math.SQRT2,e.SQRT_3=1.7320508075688772,e.DEG_TO_RAD=Math.PI/180,e.RAD_TO_DEG=1/(Math.PI/180),e}();t.default=r},23:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){}},196:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(a(r(23)).default);t.default=s},134:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(r(142)),h=r(38),l=function(e){function t(r,i,n,a,s,o){var h=e.call(this)||this;return h._octaves=t.DEFAULT_BILLOW_OCTAVE_COUNT,h.frequency=r||t.DEFAULT_BILLOW_FREQUENCY,h.lacunarity=i||t.DEFAULT_BILLOW_LACUNARITY,h.octaves=n||t.DEFAULT_BILLOW_OCTAVE_COUNT,h.persistence=a||t.DEFAULT_BILLOW_PERSISTENCE,h.seed=s||t.DEFAULT_BILLOW_SEED,h.quality=o||t.DEFAULT_BILLOW_QUALITY,h}return n(t,e),Object.defineProperty(t.prototype,"octaves",{get:function(){return this._octaves},set:function(e){if(e>t.BILLOW_MAX_OCTAVE)throw new Error("Cannot set octaves greater than maximum of "+t.BILLOW_MAX_OCTAVE);this._octaves=e},enumerable:!0,configurable:!0}),t.prototype.getValue=function(e,t,r){var i,n,a,s=0,l=1;e*=this.frequency,t*=this.frequency,r*=this.frequency;for(var u=0;u<this.octaves;u++)i=h.makeInt32Range(e),n=h.makeInt32Range(t),a=h.makeInt32Range(r),s+=(2*Math.abs(o.default.gradientCoherentNoise3D(i,n,a,this.seed+u&4294967295,this.quality))-1)*l,e*=this.lacunarity,t*=this.lacunarity,r*=this.lacunarity,l*=this.persistence;return s+.5},t.DEFAULT_BILLOW_FREQUENCY=1,t.DEFAULT_BILLOW_LACUNARITY=2,t.DEFAULT_BILLOW_OCTAVE_COUNT=6,t.DEFAULT_BILLOW_PERSISTENCE=.5,t.DEFAULT_BILLOW_QUALITY=o.Quality.Standard,t.DEFAULT_BILLOW_SEED=0,t.BILLOW_MAX_OCTAVE=30,t}(s(r(196)).default);t.default=l},494:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(38),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getValue=function(e,t,r){return 1&Math.floor(s.makeInt32Range(e))^1&Math.floor(s.makeInt32Range(t))^1&Math.floor(s.makeInt32Range(r))?-1:1},t}(a(r(196)).default);t.default=o},932:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(r){var i=e.call(this)||this;return i.value=r||t.DEFAULT_CONST_VALUE,i}return n(t,e),t.prototype.getValue=function(){return this.value},t.DEFAULT_CONST_VALUE=0,t}(a(r(196)).default);t.default=s},582:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(r){var i=e.call(this)||this;return i.frequency=r||t.DEFAULT_CYLINDERS_FREQUENCY,i}return n(t,e),t.prototype.getValue=function(e,t,r){e*=this.frequency,this.frequency;var i=Math.sqrt(e*e+r*r),n=i-Math.floor(i),a=1-n;return 1-4*Math.min(n,a)},t.DEFAULT_CYLINDERS_FREQUENCY=1,t}(a(r(196)).default);t.default=s},236:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(134));t.Billow=n.default;var a=i(r(494));t.Checkerboard=a.default;var s=i(r(932));t.Const=s.default;var o=i(r(582));t.Cylinders=o.default;var h=i(r(196));t.default=h.default;var l=i(r(429));t.Perlin=l.default;var u=i(r(734));t.RidgedMulti=u.default;var c=i(r(99));t.Spheres=c.default;var d=i(r(553));t.Voronoi=d.default},429:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(r(142)),h=r(38),l=function(e){function t(r,i,n,a,s,o){var h=e.call(this)||this;return h._octaves=t.DEFAULT_PERLIN_OCTAVE_COUNT,h.frequency=r||t.DEFAULT_PERLIN_FREQUENCY,h.lacunarity=i||t.DEFAULT_PERLIN_LACUNARITY,h.octaves=n||t.DEFAULT_PERLIN_OCTAVE_COUNT,h.persistence=a||t.DEFAULT_PERLIN_PERSISTENCE,h.seed=s||t.DEFAULT_PERLIN_SEED,h.quality=o||t.DEFAULT_PERLIN_QUALITY,h}return n(t,e),Object.defineProperty(t.prototype,"octaves",{get:function(){return this._octaves},set:function(e){if(e>t.PERLIN_MAX_OCTAVE)throw new Error("Cannot set octaves greater than maximum of "+t.PERLIN_MAX_OCTAVE);this._octaves=e},enumerable:!0,configurable:!0}),t.prototype.getValue=function(e,t,r){var i,n,a,s=0,l=1;e*=this.frequency,t*=this.frequency,r*=this.frequency;for(var u=0;u<this.octaves;u++)i=h.makeInt32Range(e),n=h.makeInt32Range(t),a=h.makeInt32Range(r),s+=o.default.gradientCoherentNoise3D(i,n,a,this.seed+u&4294967295,this.quality)*l,e*=this.lacunarity,t*=this.lacunarity,r*=this.lacunarity,l*=this.persistence;return s},t.DEFAULT_PERLIN_FREQUENCY=1,t.DEFAULT_PERLIN_LACUNARITY=2,t.DEFAULT_PERLIN_OCTAVE_COUNT=6,t.DEFAULT_PERLIN_PERSISTENCE=.5,t.DEFAULT_PERLIN_QUALITY=o.Quality.Standard,t.DEFAULT_PERLIN_SEED=0,t.PERLIN_MAX_OCTAVE=30,t}(s(r(196)).default);t.default=l},734:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(r(142)),h=r(38),l=function(e){function t(r,i,n,a,s,o,h){var l=e.call(this)||this;return l._octaves=t.DEFAULT_RIDGED_OCTAVE_COUNT,l._lacunarity=t.DEFAULT_RIDGED_LACUNARITY,l.weights=[],l.frequency=r||t.DEFAULT_RIDGED_FREQUENCY,l.lacunarity=i||t.DEFAULT_RIDGED_LACUNARITY,l.octaves=n||t.DEFAULT_RIDGED_OCTAVE_COUNT,l.seed=a||t.DEFAULT_RIDGED_SEED,l.quality=s||t.DEFAULT_RIDGED_QUALITY,l.offset=o||t.DEFAULT_RIDGED_OFFSET,l.gain=h||t.DEFAULT_RIDGED_GAIN,l}return n(t,e),Object.defineProperty(t.prototype,"lacunarity",{get:function(){return this._lacunarity},set:function(e){this._lacunarity=e;var r=1;this.weights=[];for(var i=0;i<t.RIDGED_MAX_OCTAVE;i++)this.weights[i]=Math.pow(r,-1),r*=this.lacunarity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"octaves",{get:function(){return this._octaves},set:function(e){if(e>t.RIDGED_MAX_OCTAVE)throw new Error("Cannot set octaves greater than maximum of "+t.RIDGED_MAX_OCTAVE);this._octaves=e},enumerable:!0,configurable:!0}),t.prototype.getValue=function(e,t,r){var i,n,a,s,l=0,u=0,c=1;e*=this.frequency,t*=this.frequency,r*=this.frequency;for(var d=0;d<this.octaves;d++)i=h.makeInt32Range(e),n=h.makeInt32Range(t),a=h.makeInt32Range(r),s=this.seed+d&2147483647,u=o.default.gradientCoherentNoise3D(i,n,a,s,this.quality),u=Math.abs(u),u=this.offset-u,u*=u,c=(u*=c)*this.gain,c=h.clamp(c,0,1),l+=u*this.weights[d],e*=this.lacunarity,t*=this.lacunarity,r*=this.lacunarity;return 1.25*l-1},t.DEFAULT_RIDGED_FREQUENCY=1,t.DEFAULT_RIDGED_LACUNARITY=2,t.DEFAULT_RIDGED_OCTAVE_COUNT=6,t.DEFAULT_RIDGED_QUALITY=o.Quality.Standard,t.DEFAULT_RIDGED_SEED=0,t.DEFAULT_RIDGED_OFFSET=1,t.DEFAULT_RIDGED_GAIN=2,t.RIDGED_MAX_OCTAVE=30,t}(s(r(196)).default);t.default=l},99:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(r){var i=e.call(this)||this;return i.frequency=r||t.DEFAULT_SPHERES_FREQUENCY,i}return n(t,e),t.prototype.getValue=function(e,t,r){e*=this.frequency,t*=this.frequency,r*=this.frequency;var i=Math.sqrt(e*e+t*t+r*r),n=i-Math.floor(i),a=1-n;return 1-4*Math.min(n,a)},t.DEFAULT_SPHERES_FREQUENCY=4,t}(a(r(196)).default);t.default=s},553:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(10)),o=a(r(142)),h=function(e){function t(r,i,n,a){var s=e.call(this)||this;return s.frequency=r||t.DEFAULT_VORONOI_FREQUENCY,s.displacement=i||t.DEFAULT_VORONOI_DISPLACEMENT,s.distance=n||!1,s.seed=a||t.DEFAULT_VORONOI_SEED,s}return n(t,e),t.prototype.getValue=function(e,t,r){var i,n,a,h,l,u,c;e*=this.frequency,t*=this.frequency,r*=this.frequency;for(var d=Math.floor(e),f=Math.floor(t),p=Math.floor(r),L=e>0?d:d-1,g=t>0?f:f-1,m=r>0?p:p-1,v=2147483647,y=0,b=0,w=0,_=0,E=m-2;E<=m+2;E++)for(var x=g-2;x<=g+2;x++)for(var M=L-2;M<=L+2;M++)(c=(h=(i=M+o.default.valueNoise3D(M,x,E,this.seed))-e)*h+(l=(n=x+o.default.valueNoise3D(M,x,E,this.seed+1))-t)*l+(u=(a=E+o.default.valueNoise3D(M,x,E,this.seed+2))-r)*u)<v&&(v=c,y=i,b=n,w=a);return this.distance&&(h=y-e,l=b-t,u=w-r,_=Math.sqrt(h*h+l*l+u*u)*s.default.SQRT_3-1),_+this.displacement*o.default.valueNoise3D(Math.floor(y),Math.floor(b),Math.floor(w))},t.DEFAULT_VORONOI_DISPLACEMENT=1,t.DEFAULT_VORONOI_FREQUENCY=1,t.DEFAULT_VORONOI_SEED=0,t}(a(r(196)).default);t.default=h},142:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n,a=i(r(589)),s=i(r(147));!function(e){e[e.Fast=0]="Fast",e[e.Standard=1]="Standard",e[e.Best=2]="Best"}(n=t.Quality||(t.Quality={}));var o=function(){function e(){}return e.intValueNoise3D=function(t,r,i,n){t=Math.floor(t),r=Math.floor(r),i=Math.floor(i),n=Math.floor(n);var a=Math.floor(e.X_NOISE_GEN*t+e.Y_NOISE_GEN*r+e.Z_NOISE_GEN*i+e.SEED_NOISE_GEN*n&2147483647);return(a^=a>>13)*(a*a*60493+19990303)+1376312589&2147483647},e.valueNoise3D=function(t,r,i,n){return void 0===n&&(n=0),1-e.intValueNoise3D(Math.floor(t),Math.floor(r),Math.floor(i),Math.floor(n))/1073741824},e.gradientNoise3D=function(t,r,i,n,a,o,h){void 0===h&&(h=1);var l=4294967295&Math.floor(e.X_NOISE_GEN*n+e.Y_NOISE_GEN*a+e.Z_NOISE_GEN*o+e.SEED_NOISE_GEN*h);return l^=l>>e.SHIFT_NOISE_GEN,l&=255,2.12*(s.default[l<<2]*(t-n)+s.default[1+(l<<2)]*(r-a)+s.default[2+(l<<2)]*(i-o))},e.coherentNoise3D=function(e,t,r,i,s,o){if(!o)throw new Error("Must provide proper interpolation function!");i=i?Math.floor(i):1,s=s?Math.floor(s):n.Standard;var h=Math.floor(e),l=Math.floor(t),u=Math.floor(r),c=e>0?h:e-1,d=c+1,f=t>0?l:t-1,p=f+1,L=r>0?u:r-1,g=L+1,m=0,v=0,y=0;switch(s){case n.Best:m=a.default.quinticSCurve(e-c),v=a.default.quinticSCurve(t-f),y=a.default.quinticSCurve(r-L);break;case n.Standard:m=a.default.cubicSCurve(e-c),v=a.default.cubicSCurve(t-f),y=a.default.cubicSCurve(r-L);break;default:case n.Fast:m=e-c,v=t-f,y=r-L}return o(c,f,L,d,p,g,m,v,y)},e.valueCoherentNoise3D=function(t,r,i,n,s){return e.coherentNoise3D(t,r,i,n,s,(function(t,r,i,s,o,h,l,u,c){var d,f,p,L,g,m;return d=e.valueNoise3D(t,r,i,n),f=e.valueNoise3D(s,r,i,n),p=a.default.linear(d,f,l),d=e.valueNoise3D(t,o,i,n),f=e.valueNoise3D(s,o,i,n),L=a.default.linear(d,f,l),g=a.default.linear(p,L,u),d=e.valueNoise3D(t,r,h,n),f=e.valueNoise3D(s,r,h,n),p=a.default.linear(d,f,l),d=e.valueNoise3D(t,o,h,n),f=e.valueNoise3D(s,o,h,n),L=a.default.linear(d,f,l),m=a.default.linear(p,L,u),a.default.linear(g,m,c)}))},e.gradientCoherentNoise3D=function(t,r,i,n,s){return e.coherentNoise3D(t,r,i,n,s,(function(s,o,h,l,u,c,d,f,p){var L,g,m,v,y,b;return L=e.gradientNoise3D(t,r,i,s,o,h,n),g=e.gradientNoise3D(t,r,i,l,o,h,n),m=a.default.linear(L,g,d),L=e.gradientNoise3D(t,r,i,s,u,h,n),g=e.gradientNoise3D(t,r,i,l,u,h,n),v=a.default.linear(L,g,d),y=a.default.linear(m,v,f),L=e.gradientNoise3D(t,r,i,s,o,c,n),g=e.gradientNoise3D(t,r,i,l,o,c,n),m=a.default.linear(L,g,d),L=e.gradientNoise3D(t,r,i,s,u,c,n),g=e.gradientNoise3D(t,r,i,l,u,c,n),v=a.default.linear(L,g,d),b=a.default.linear(m,v,f),a.default.linear(y,b,p)}))},e.X_NOISE_GEN=1619,e.Y_NOISE_GEN=31337,e.Z_NOISE_GEN=6971,e.SEED_NOISE_GEN=1013,e.SHIFT_NOISE_GEN=8,e}();t.default=o},954:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.item1=e,this.item2=t}return e.prototype.toString=function(){return"["+this.item1+", "+this.item2+"]"},e}();t.default=r},490:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return e<t?t:e>r?r:e}},38:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(490));t.clamp=n.default;var a=i(r(634));t.makeInt32Range=a.default;var s=i(r(954));t.Tuple=s.default},634:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e>=1073741824?e%1073741824*2-1073741824:e<=-1073741824?e%1073741824*2+1073741824:e}},147:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[-.763874,-.596439,-.246489,0,.396055,.904518,-.158073,0,-.499004,-.8665,-.0131631,0,.468724,-.824756,.316346,0,.829598,.43195,.353816,0,-.454473,.629497,-.630228,0,-.162349,-.869962,-.465628,0,.932805,.253451,.256198,0,-.345419,.927299,-.144227,0,-.715026,-.293698,-.634413,0,-.245997,.717467,-.651711,0,-.967409,-.250435,-.037451,0,.901729,.397108,-.170852,0,.892657,-.0720622,-.444938,0,.0260084,-.0361701,.999007,0,.949107,-.19486,.247439,0,.471803,-.807064,-.355036,0,.879737,.141845,.453809,0,.570747,.696415,.435033,0,-.141751,-.988233,-.0574584,0,-.58219,-.0303005,.812488,0,-.60922,.239482,-.755975,0,.299394,-.197066,-.933557,0,-.851615,-.220702,-.47544,0,.848886,.341829,-.403169,0,-.156129,-.687241,.709453,0,-.665651,.626724,.405124,0,.595914,-.674582,.43569,0,.171025,-.509292,.843428,0,.78605,.536414,-.307222,0,.18905,-.791613,.581042,0,-.294916,.844994,.446105,0,.342031,-.58736,-.7335,0,.57155,.7869,.232635,0,.885026,-.408223,.223791,0,-.789518,.571645,.223347,0,.774571,.31566,.548087,0,-.79695,-.0433603,-.602487,0,-.142425,-.473249,-.869339,0,-.0698838,.170442,.982886,0,.687815,-.484748,.540306,0,.543703,-.534446,-.647112,0,.97186,.184391,-.146588,0,.707084,.485713,-.513921,0,.942302,.331945,.043348,0,.499084,.599922,.625307,0,-.289203,.211107,.9337,0,.412433,-.71667,-.56239,0,.87721,-.082816,.47291,0,-.420685,-.214278,.881538,0,.752558,-.0391579,.657361,0,.0765725,-.996789,.0234082,0,-.544312,-.309435,-.779727,0,-.455358,-.415572,.787368,0,-.874586,.483746,.0330131,0,.245172,-.0838623,.965846,0,.382293,-.432813,.81641,0,-.287735,-.905514,.311853,0,-.667704,.704955,-.239186,0,.717885,-.464002,-.518983,0,.976342,-.214895,.0240053,0,-.0733096,-.921136,.382276,0,-.986284,.151224,-.0661379,0,-.899319,-.429671,.0812908,0,.652102,-.724625,.222893,0,.203761,.458023,-.865272,0,-.030396,.698724,-.714745,0,-.460232,.839138,.289887,0,-.0898602,.837894,.538386,0,-.731595,.0793784,.677102,0,-.447236,-.788397,.422386,0,.186481,.645855,-.740335,0,-.259006,.935463,.240467,0,.445839,.819655,-.359712,0,.349962,.755022,-.554499,0,-.997078,-.0359577,.0673977,0,-.431163,-.147516,-.890133,0,.299648,-.63914,.708316,0,.397043,.566526,-.722084,0,-.502489,.438308,-.745246,0,.0687235,.354097,.93268,0,-.0476651,-.462597,.885286,0,-.221934,.900739,-.373383,0,-.956107,-.225676,.186893,0,-.187627,.391487,-.900852,0,-.224209,-.315405,.92209,0,-.730807,-.537068,.421283,0,-.0353135,-.816748,.575913,0,-.941391,.176991,-.287153,0,-.154174,.390458,.90762,0,-.283847,.533842,.796519,0,-.482737,-.850448,.209052,0,-.649175,.477748,.591886,0,.885373,-.405387,-.227543,0,-.147261,.181623,-.972279,0,.0959236,-.115847,-.988624,0,-.89724,-.191348,.397928,0,.903553,-.428461,-.00350461,0,.849072,-.295807,-.437693,0,.65551,.741754,-.141804,0,.61598,-.178669,.767232,0,.0112967,.932256,-.361623,0,-.793031,.258012,.551845,0,.421933,.454311,.784585,0,-.319993,.0401618,-.946568,0,-.81571,.551307,-.175151,0,-.377644,.00322313,.925945,0,.129759,-.666581,-.734052,0,.601901,-.654237,-.457919,0,-.927463,-.0343576,-.372334,0,-.438663,-.868301,-.231578,0,-.648845,-.749138,-.133387,0,.507393,-.588294,.629653,0,.726958,.623665,.287358,0,.411159,.367614,-.834151,0,.806333,.585117,-.0864016,0,.263935,-.880876,.392932,0,.421546,-.201336,.884174,0,-.683198,-.569557,-.456996,0,-.117116,-.0406654,-.992285,0,-.643679,-.109196,-.757465,0,-.561559,-.62989,.536554,0,.0628422,.104677,-.992519,0,.480759,-.2867,-.828658,0,-.228559,-.228965,-.946222,0,-.10194,-.65706,-.746914,0,.0689193,-.678236,.731605,0,.401019,-.754026,.52022,0,-.742141,.547083,-.387203,0,-.00210603,-.796417,-.604745,0,.296725,-.409909,-.862513,0,-.260932,-.798201,.542945,0,-.641628,.742379,.192838,0,-.186009,-.101514,.97729,0,.106711,-.962067,.251079,0,-.743499,.30988,-.592607,0,-.795853,-.605066,-.0226607,0,-.828661,-.419471,-.370628,0,.0847218,-.489815,-.8677,0,-.381405,.788019,-.483276,0,.282042,-.953394,.107205,0,.530774,.847413,.0130696,0,.0515397,.922524,.382484,0,-.631467,-.709046,.313852,0,.688248,.517273,.508668,0,.646689,-.333782,-.685845,0,-.932528,-.247532,-.262906,0,.630609,.68757,-.359973,0,.577805,-.394189,.714673,0,-.887833,-.437301,-.14325,0,.690982,.174003,.701617,0,-.866701,.0118182,.498689,0,-.482876,.727143,.487949,0,-.577567,.682593,-.447752,0,.373768,.0982991,.922299,0,.170744,.964243,-.202687,0,.993654,-.035791,-.106632,0,.587065,.4143,-.695493,0,-.396509,.26509,-.878924,0,-.0866853,.83553,-.542563,0,.923193,.133398,-.360443,0,.00379108,-.258618,.965972,0,.239144,.245154,-.939526,0,.758731,-.555871,.33961,0,.295355,.309513,.903862,0,.0531222,-.91003,-.411124,0,.270452,.0229439,-.96246,0,.563634,.0324352,.825387,0,.156326,.147392,.976646,0,-.0410141,.981824,.185309,0,-.385562,-.576343,-.720535,0,.388281,.904441,.176702,0,.945561,-.192859,-.262146,0,.844504,.520193,.127325,0,.0330893,.999121,-.0257505,0,-.592616,-.482475,-.644999,0,.539471,.631024,-.557476,0,.655851,-.027319,-.754396,0,.274465,.887659,.369772,0,-.123419,.975177,-.183842,0,-.223429,.708045,.66989,0,-.908654,.196302,.368528,0,-.95759,-.00863708,.288005,0,.960535,.030592,.276472,0,-.413146,.907537,.0754161,0,-.847992,.350849,-.397259,0,.614736,.395841,.68221,0,-.503504,-.666128,-.550234,0,-.268833,-.738524,-.618314,0,.792737,-.60001,-.107502,0,-.637582,.508144,-.579032,0,.750105,.282165,-.598101,0,-.351199,-.392294,-.850155,0,.250126,-.960993,-.118025,0,-.732341,.680909,-.0063274,0,-.760674,-.141009,.633634,0,.222823,-.304012,.926243,0,.209178,.505671,.836984,0,.757914,-.56629,-.323857,0,-.782926,-.339196,.52151,0,-.462952,.585565,.665424,0,.61879,.194119,-.761194,0,.741388,-.276743,.611357,0,.707571,.702621,.0752872,0,.156562,.819977,.550569,0,-.793606,.440216,.42,0,.234547,.885309,-.401517,0,.132598,.80115,-.58359,0,-.377899,-.639179,.669808,0,-.865993,-.396465,.304748,0,-.624815,-.44283,.643046,0,-.485705,.825614,-.287146,0,-.971788,.175535,.157529,0,-.456027,.392629,.798675,0,-.0104443,.521623,-.853112,0,-.660575,-.74519,.091282,0,-.0157698,-.307475,-.951425,0,-.603467,-.250192,.757121,0,.506876,.25006,.824952,0,.255404,.966794,.00884498,0,.466764,-.874228,-.133625,0,.475077,-.0682351,-.877295,0,-.224967,-.938972,-.260233,0,-.377929,-.814757,-.439705,0,-.305847,.542333,-.782517,0,.26658,-.902905,-.337191,0,.0275773,.322158,-.946284,0,.0185422,.716349,.697496,0,-.20483,.978416,.0273371,0,-.898276,.373969,.230752,0,-.00909378,.546594,.837349,0,.6602,-.751089,959236e-9,0,.855301,-.303056,.420259,0,.797138,.0623013,-.600574,0,.48947,-.866813,.0951509,0,.251142,.674531,.694216,0,-.578422,-.737373,-.348867,0,-.254689,-.514807,.818601,0,.374972,.761612,.528529,0,.640303,-.734271,-.225517,0,-.638076,.285527,.715075,0,.772956,-.15984,-.613995,0,.798217,-.590628,.118356,0,-.986276,-.0578337,-.154644,0,-.312988,-.94549,.0899272,0,-.497338,.178325,.849032,0,-.101136,-.981014,.165477,0,-.521688,.0553434,-.851339,0,-.786182,-.583814,.202678,0,-.565191,.821858,-.0714658,0,.437895,.152598,-.885981,0,-.92394,.353436,-.14635,0,.212189,-.815162,-.538969,0,-.859262,.143405,-.491024,0,.991353,.112814,.0670273,0,.0337884,-.979891,-.196654,0]},893:function(e,t,r){var i;e=r.nmd(e),i=function(){var e=null,t={};l("monochrome",null,[[0,0],[100,0]]),l("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),l("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),l("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),l("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),l("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),l("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),l("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var r=[],i=function(t){if(void 0!==(t=t||{}).seed&&null!==t.seed&&t.seed===parseInt(t.seed,10))e=t.seed;else if("string"==typeof t.seed)e=function(e){for(var t=0,r=0;r!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);r++)t+=e.charCodeAt(r);return t}(t.seed);else{if(void 0!==t.seed&&null!==t.seed)throw new TypeError("The seed value must be an integer or string");e=null}var o,h;if(null!==t.count&&void 0!==t.count){for(var l=t.count,c=[],f=0;f<t.count;f++)r.push(!1);for(t.count=null;l>c.length;){var p=i(t);null!==e&&(t.seed=e),c.push(p)}return t.count=l,c}return function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return d(e);case"hsl":var r=d(e);return"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)";case"hsla":var i=d(e),n=t.alpha||Math.random();return"hsla("+i[0]+", "+i[1]+"%, "+i[2]+"%, "+n+")";case"rgbArray":return u(e);case"rgb":return"rgb("+u(e).join(", ")+")";case"rgba":var a=u(e);return n=t.alpha||Math.random(),"rgba("+a.join(", ")+", "+n+")";default:return function(e){var t=u(e);function r(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+r(t[0])+r(t[1])+r(t[2])}(e)}}([o=n(t),h=a(o,t),s(o,h,t)],t)};function n(e){if(r.length>0){var i=h(s=function(e){if(isNaN(e)){if("string"==typeof e)if(t[e]){var r=t[e];if(r.hueRange)return r.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i))return o(c(e)[0]).hueRange}else{var i=parseInt(e);if(i<360&&i>0)return o(e).hueRange}return[0,360]}(e.hue)),n=(s[1]-s[0])/r.length,a=parseInt((i-s[0])/n);return!0===r[a]?a=(a+2)%r.length:r[a]=!0,(i=h(s=[(s[0]+a*n)%359,(s[0]+(a+1)*n)%359]))<0&&(i=360+i),i}var s;return(i=h(s=function(e){if("number"==typeof parseInt(e)){var r=parseInt(e);if(r<360&&r>0)return[r,r]}if("string"==typeof e)if(t[e]){var i=t[e];if(i.hueRange)return i.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var n=c(e)[0];return[n,n]}return[0,360]}(e.hue)))<0&&(i=360+i),i}function a(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return h([0,100]);var r=function(e){return o(e).saturationRange}(e),i=r[0],n=r[1];switch(t.luminosity){case"bright":i=55;break;case"dark":i=n-10;break;case"light":n=55}return h([i,n])}function s(e,t,r){var i=function(e,t){for(var r=o(e).lowerBounds,i=0;i<r.length-1;i++){var n=r[i][0],a=r[i][1],s=r[i+1][0],h=r[i+1][1];if(t>=n&&t<=s){var l=(h-a)/(s-n);return l*t+(a-l*n)}}return 0}(e,t),n=100;switch(r.luminosity){case"dark":n=i+20;break;case"light":i=(n+i)/2;break;case"random":i=0,n=100}return h([i,n])}function o(e){for(var r in e>=334&&e<=360&&(e-=360),t){var i=t[r];if(i.hueRange&&e>=i.hueRange[0]&&e<=i.hueRange[1])return t[r]}return"Color not found"}function h(t){if(null===e){var r=Math.random();return r+=.618033988749895,r%=1,Math.floor(t[0]+r*(t[1]+1-t[0]))}var i=t[1]||1,n=t[0]||0,a=(e=(9301*e+49297)%233280)/233280;return Math.floor(n+a*(i-n))}function l(e,r,i){var n=i[0][0],a=i[i.length-1][0],s=i[i.length-1][1],o=i[0][1];t[e]={hueRange:r,lowerBounds:i,saturationRange:[n,a],brightnessRange:[s,o]}}function u(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var r=e[1]/100,i=e[2]/100,n=Math.floor(6*t),a=6*t-n,s=i*(1-r),o=i*(1-a*r),h=i*(1-(1-a)*r),l=256,u=256,c=256;switch(n){case 0:l=i,u=h,c=s;break;case 1:l=o,u=i,c=s;break;case 2:l=s,u=i,c=h;break;case 3:l=s,u=o,c=i;break;case 4:l=h,u=s,c=i;break;case 5:l=i,u=s,c=o}return[Math.floor(255*l),Math.floor(255*u),Math.floor(255*c)]}function c(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,r=parseInt(e.substr(2,2),16)/255,i=parseInt(e.substr(4,2),16)/255,n=Math.max(t,r,i),a=n-Math.min(t,r,i),s=n?a/n:0;switch(n){case t:return[(r-i)/a%6*60||0,s,n];case r:return[60*((i-t)/a+2)||0,s,n];case i:return[60*((t-r)/a+4)||0,s,n]}}function d(e){var t=e[0],r=e[1]/100,i=e[2]/100,n=(2-r)*i;return[t,Math.round(r*i/(n<1?n:2-n)*1e4)/100,n/2*100]}return i}(),e&&e.exports&&(t=e.exports=i),t.randomColor=i},827:(e,t,r)=>{"use strict";var i=r(238),n=Array.prototype.concat,a=Array.prototype.slice,s=e.exports=function(e){for(var t=[],r=0,s=e.length;r<s;r++){var o=e[r];i(o)?t=n.call(t,a.call(o)):t.push(o)}return t};s.wrap=function(e){return function(){return e(s(arguments))}}},701:(e,t,r)=>{"use strict";var i,n=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),a=[];function s(e){for(var t=-1,r=0;r<a.length;r++)if(a[r].identifier===e){t=r;break}return t}function o(e,t){for(var r={},i=[],n=0;n<e.length;n++){var o=e[n],h=t.base?o[0]+t.base:o[0],l=r[h]||0,u="".concat(h," ").concat(l);r[h]=l+1;var c=s(u),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==c?(a[c].references++,a[c].updater(d)):a.push({identifier:u,updater:L(d,t),references:1}),i.push(u)}return i}function h(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var a=r.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var s=n(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function c(e,t,r,i){var n=r?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var a=document.createTextNode(n),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function d(e,t,r){var i=r.css,n=r.media,a=r.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,p=0;function L(e,t){var r,i,n;if(t.singleton){var a=p++;r=f||(f=h(t)),i=c.bind(null,r,a,!1),n=c.bind(null,r,a,!0)}else r=h(t),i=d.bind(null,r,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var r=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<r.length;i++){var n=s(r[i]);a[n].references--}for(var h=o(e,t),l=0;l<r.length;l++){var u=s(r[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}r=h}}}}},t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{"use strict";var e=r(701),t=r.n(e),i=r(528);t()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;class n{constructor(e,t){this.occupied=!1,this.render=(e,t,r,i,n,a)=>{},this.setOccupied=(e=!0)=>{this.occupied=e}}}const a=r.p+"5b2a09fd0f431edd1853e64d7d0edd8b.png";var s=r(893),o=r.n(s),h=r(588);class l extends n{constructor(e,t,r){super(e,t),this.width=e,this.height=t,this.seed=r,this.render=(e,t,r,i,n,a)=>{this.image&&e.drawImage(this.image,t+n.x,r+n.y,i.width,i.height),e.fillStyle=o()({format:"rgba",hue:"#22FF55",seed:this.seed,alpha:.1}),e.fillRect(t+n.x,r+n.y,i.width,i.height)},(0,h.po)(a).then((e=>{this.image=e}))}}class u{constructor(e,t){this.damage=e,this.penetration=t}}var c=r(772),d=r.n(c);class f{constructor(e,t,r,i,n){this.x=e,this.y=t,this.tileSize=r,this.tileX=i,this.tileY=n,this.fireRatePS=2,this.lastFire=0,this.direction=2*Math.PI*Math.random(),this.selected=!1,this.damageDone=0,this.baseCost=120,this.range=3,this.pos={x:0,y:0},this.targetingMode="first",this.age=0,this.currentLevel=0,this.levels=[{fireRatePS:2,projectileDamage:1,cost:0,range:3,penetration:1},{fireRatePS:3,projectileDamage:1,cost:80,range:3,penetration:1},{fireRatePS:4,projectileDamage:1,cost:100,range:3,penetration:1},{fireRatePS:4,projectileDamage:2,cost:120,range:4,penetration:1},{fireRatePS:4,projectileDamage:4,cost:200,range:4,penetration:2},{fireRatePS:8,projectileDamage:4,cost:400,range:5,penetration:2},{fireRatePS:12,projectileDamage:5,cost:1e3,range:6,penetration:3}],this.getRadius=()=>this.currentLevel+10,this.getColor=()=>{switch(this.currentLevel){case 0:return new(d())("#133337");case 1:return new(d())("#065535");case 2:return new(d())("#008080");case 3:return new(d())("#55CC77");case 4:return new(d())("#afeeee");case 5:return new(d())("#40e0d0");case 6:return new(d())("#ffff66")}},this.upgrade=()=>{if(!this.getUpgradeCost())return!1;this.currentLevel++,this.projectile=new u(this.levels[this.currentLevel].projectileDamage,this.levels[this.currentLevel].penetration),this.fireRatePS=this.levels[this.currentLevel].fireRatePS,this.range=this.levels[this.currentLevel].range},this.getUpgradeCost=()=>this.currentLevel<this.maxLevel&&this.levels[this.currentLevel+1].cost,this.select=()=>{this.selected=!0},this.deSelect=()=>{this.selected=!1},this.fire=(e,t)=>{let r=this.currentTarget.x+t.x,i=this.currentTarget.y+t.y,n=this.x+t.x,a=this.y+t.y,s=0;e=e.sort(((e,t)=>this.getDistanceToEnemy(e)-this.getDistanceToEnemy(t)));for(let o of e){let e=o.x+t.x,h=o.y+t.y;if(this.enemyIsHit(o,n,a,r,i,e,h)){let e=o.damage(this.projectile.damage);if(this.damageDone+=e,s++,s>=this.projectile.penetration)return}}},this.enemyIsHit=(e,t,r,i,n,a,s)=>{if("nearest"===this.targetingMode)return!0;if(i===a&&n===s)return!0;let o=s-r,h=a-t,l=Math.sqrt(o*o+h*h),u=n-r,c=i-t,d=Math.sqrt(u*u+c*c),f=s-n,p=a-i,L=Math.sqrt(f*f+p*p),g=Math.acos((l*l+d*d-L*L)/(2*l*d));return l*Math.sin(g)<=e.getRadius()||void 0},this.render=(e,t)=>{this.selected&&(e.fillStyle="#A0522D44",e.lineWidth=2,e.strokeStyle="#A0522D66",e.beginPath(),e.arc(this.x+t.x,this.y+t.y,this.getRadius()+this.range*this.tileSize,0,2*Math.PI),e.stroke(),e.fill()),e.lineWidth="first"==this.targetingMode?3:6,e.strokeStyle="#ccc9bd",e.beginPath(),e.moveTo(this.x+t.x,this.y+t.y);let r="first"==this.targetingMode?1.8:1.4;e.lineTo(this.x+t.x+this.getRadius()*Math.cos(this.direction)*r,this.y+t.y+this.getRadius()*Math.sin(this.direction)*r),e.stroke(),e.lineWidth=3;let i=this.getColor().isLight()?this.getColor().darken(.6).saturate(.5).hex():this.getColor().lighten(.6).saturate(.5).hex();e.strokeStyle=i,e.fillStyle=this.getColor().hex(),e.beginPath(),e.arc(this.x+t.x,this.y+t.y,this.getRadius(),0,2*Math.PI),e.fill(),e.stroke()},this.getDistanceToEnemy=e=>{let t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},this.findEnemy=(e,t)=>{let r=[];if(e.length>0)switch(this.targetingMode){case"first":for(let t in e){let i=e[t];this.getDistanceToEnemy(i)<this.getRadius()+this.range*this.tileSize&&r.push({enemy:i,distance:0})}r.length>0&&this.aimAt(r[0].enemy.x+t.x,r[0].enemy.y+t.y);break;case"nearest":for(let t in e){let i=e[t],n=this.getDistanceToEnemy(i);n<this.getRadius()+this.range*this.tileSize&&r.push({enemy:i,distance:n})}r=r.sort((function(e,t){return e.distance-t.distance})),r.length>0&&this.aimAt(r[0].enemy.x+t.x,r[0].enemy.y+t.y)}return r.length>0&&(this.currentTarget=r[0].enemy),r},this.aimAt=(e,t)=>{this.direction=Math.atan2(t-this.pos.y,e-this.pos.x)},this.update=(e,t,r,i)=>{this.age+=e,this.pos={x:this.x+t.x,y:this.y+t.y},this.findEnemy(i,t).length>0&&this.age>=this.lastFire+10/this.fireRatePS&&(this.fire(i,t),this.lastFire=this.age)},this.projectile=new u(1,1),this.maxLevel=this.levels.length-1}}class p{constructor(e,t,r){this.health=e,this.map=t,this.game=r,this.direction=2*Math.PI,this.distance=0,this.dead=!1,this.survived=!1,this.getRadius=()=>8+this.health,this.getSpeed=()=>2*this.health+10,this.getColor=()=>{switch(this.health){case 1:return"#FF3333";case 2:return"#3355FF";case 3:return"#55CC77";case 4:return"#FFFF55";case 5:return"#CC55CC";case 6:return"#FFAA00";case 7:case 8:case 9:case 10:return"#FFFFFF";case 11:case 12:case 13:case 14:case 15:return"#000000";default:return"#808080"}},this.damage=e=>{let t=this.health;this.health-=e;let r=this.health<0?t:t-this.health;return this.game.addScore(r),this.health<=0&&this.kill(),r},this.getLivesValue=()=>this.health,this.survive=()=>{this.survived=!0},this.kill=()=>{this.dead=!0},this.aimAt=(e,t)=>{this.direction=Math.atan2(t-this.y,e-this.x)},this.update=e=>{this.distance+=this.getSpeed()*e;let t=this.map.path.getPositionAlongPath(this.distance,this.map);t?(this.x=t.pos.x,this.y=t.pos.y,this.direction=t.direction):this.survive()},this.render=(e,t)=>{this.dead||(e.fillStyle=this.getColor(),e.beginPath(),e.arc(this.x+t.x,this.y+t.y,this.getRadius(),0,2*Math.PI),e.fill())},this.x=t.path.nodes[0].x*t.tileSize.width+t.tileSize.width/2,this.y=t.path.nodes[0].y*t.tileSize.height+t.tileSize.height/2}}class L{constructor(e,t,r=40){this.game=e,this.waveData=t,this.bonus=r,this.age=0,this.update=e=>{this.age+=100*e;for(let e in this.waveData){let{time:t,enemyType:r}=this.waveData[e];if(this.age>=t){this.game.createEnemy(new p(r,this.game.map,this.game)),this.waveData.splice(parseInt(e),1);break}}0===this.waveData.length&&(this.game.waveSent=!0)}}}class g{constructor(e){this.game=e,this.baseDelay=100,this.getWave=(e,t)=>new L(this.game,e,t),this.sequenceCount=e=>{let t=[],r=0;for(let i of e){for(let e=0;e<i[1];e++)t.push({enemyType:i[0],time:e*i[2]+this.baseDelay+r});r=i[1]+(i.length>3?0:1)*i[2]+(i.length>3?i[3]:0)}return t},this.count=(e,t,r,i=0)=>{let n=[];for(let a=0;a<t;a++)n.push({enemyType:e,time:a*r+this.baseDelay+i});return n},this.waves=[this.getWave(this.count(1,5,750)),this.getWave(this.count(1,10,500)),this.getWave(this.count(2,10,600)),this.getWave(this.sequenceCount([[1,10,500],[2,6,500]])),this.getWave(this.count(3,5,500)),this.getWave(this.count(3,10,500)),this.getWave(this.sequenceCount([[4,1,200],[3,10,400,0]])),this.getWave(this.count(5,10,200)),this.getWave(this.count(6,10,400)),this.getWave(this.count(10,10,750))]}}class m{constructor(e,t={fillScreen:!0},r){if(this.canvas=e,this.config=t,this.els=r,this.state={paused:!0},this.speed=1,this.startingLives=100,this.startingMoney=250,this.lastTime=0,this.frameCount=0,this.fpsCounter=!1,this.lifeCounter=!1,this.enemyCounter=!1,this.moneyCounter=!1,this.speedDisplay=!1,this.waveSent=!1,this.enemies=[],this.towers=[],this.placeTower=!1,this.currentWave=0,this.autoPlay=!1,this.nextLevelReady=!0,this.mousePos={x:0,y:0},this.startWave=e=>{this.enemies=[],this.waveSent=!1,this.wave=this.waves.waves[this.currentWave],this.nextLevelReady=!1,document.querySelector("#start-button").disabled=!0,this.autoPlay&&(this.els.gameControls.querySelector("#start-button").disabled=!0)},this.updateBalance=()=>{this.els.moneyCount.innerText=""+this.money},this.clear=()=>{this.selectedTower=null,this.closeTowerOverlay();for(let e of this.towers)e.deSelect()},this.increaseSpeed=()=>{this.speed<3&&this.setSpeed(this.speed+1)},this.decreaseSpeed=()=>{this.speed>1&&this.setSpeed(this.speed-1)},this.setSpeed=e=>{this.speed=e,this.speedDisplay&&(this.els.speed.innerText=this.speed+"x")},this.openTowerOverlay=()=>{let e=this.els.towerOverlay;e.classList.add("visible"),e.querySelector("#stat-speed").innerHTML=this.selectedTower.fireRatePS+" / second",e.querySelector("#stat-damage").innerHTML=this.selectedTower.projectile.damage+" / shot",e.querySelector("#stat-damage-done").innerHTML=""+this.selectedTower.damageDone,e.querySelector("#stat-range").innerHTML=this.selectedTower.range+" tiles",e.querySelector("#stat-penetration").innerHTML=this.selectedTower.projectile.penetration+" enemies";let t=e.querySelector("#stat-targeting-mode");t.innerHTML="first"===this.selectedTower.targetingMode?"First":"Nearest",t.onclick=e=>{e.target,this.selectedTower.targetingMode="first"===this.selectedTower.targetingMode?"nearest":"first",this.openTowerOverlay()};let r=e.querySelector("#upgrade-button"),i=this.selectedTower.getUpgradeCost();r.innerHTML=i?"$"+i.toString():"MAX",r.disabled=!i,r.onclick=e=>{e.target;let t=this.selectedTower.getUpgradeCost();t&&this.money>=t&&(this.selectedTower.upgrade(),this.money-=t,this.updateBalance(),this.openTowerOverlay())}},this.closeTowerOverlay=()=>{this.els.towerOverlay.classList.remove("visible")},this.handleMouseMove=e=>{this.mousePos={x:e.pageX,y:e.pageY}},this.handleClick=e=>{e.preventDefault();let t=window.innerWidth/2-this.map.width*this.map.tileSize.width/2+this.getXOffset(),r=window.innerHeight/2-this.map.height*this.map.tileSize.height/2,i=Math.floor((e.pageX-t)/this.map.tileSize.width),n=Math.floor((e.pageY-r)/this.map.tileSize.height),a=this.map.getTile(i,n);if(0===e.button&&((this.els.towerOverlay.classList.contains("visible")&&e.pageX>200||!this.els.towerOverlay.classList.contains("visible"))&&this.clear(),a instanceof l&&i>=0&&i<this.map.width&&n>=0&&n<this.map.height))if(a.occupied){this.placeTower=!1;for(let e of this.towers)e.tileX===i&&e.tileY===n&&(this.selectedTower=e,this.openTowerOverlay(),e.select())}else if(this.placeTower){let e=new f(i*this.map.tileSize.width+this.map.tileSize.width/2,n*this.map.tileSize.height+this.map.tileSize.width/2,this.map.tileSize.width,i,n);this.money>=e.baseCost&&(this.towers.push(e),this.money-=e.baseCost,this.updateBalance(),a.setOccupied(!0))}},this.reset=()=>{this.autoPlay=!1,this.nextLevelReady=!0,document.querySelector("#start-button").disabled=!1,this.lives=this.startingLives,this.enemies=[],this.towers=[],this.money=this.startingMoney,this.waves=new g(this),this.currentWave=0,this.wave=this.waves.waves[0],this.updateBalance(),this.clear(),this.placeTower=!1,this.map.clear(),this.els.enemyCount.innerText=this.enemies.length.toString(),this.takeLives(0),this.els.victoryOverlay.classList.remove("visible")},this.killPlayer=()=>{this.reset()},this.createEnemy=e=>{this.enemies.push(e),this.enemyCounter&&(this.els.enemyCount.innerText=this.enemies.length.toString())},this.loadMap=e=>{this.map=e;let t=this.els.gameControls,r=t.querySelector("#map-selector");for(let e of this.map.maps){let t=document.createElement("button");t.innerText=e.name,t.classList.add("map-option","control-button"),t.onclick=()=>{this.map.importMap(e),this.reset()},r.appendChild(t)}let i=t.querySelector("#general-controls"),n=document.createElement("button");n.innerText="Play",n.id="start-button",n.classList.add("control-button"),n.onclick=()=>{!this.autoPlay&&this.nextLevelReady&&this.startWave(this.currentWave)};let a=document.createElement("button");a.innerText="Enable Autoplay",a.id="autoplay-button",a.classList.add("control-button"),a.onclick=()=>{this.autoPlay=!this.autoPlay,a.innerText=this.autoPlay?"Disable Autoplay":"Enable Autoplay",n.disabled=this.autoPlay&&!this.nextLevelReady,this.autoPlay&&this.nextLevelReady&&this.startWave(this.currentWave)};let s=document.createElement("button");s.innerText="Place Tower",s.classList.add("control-button"),s.onclick=()=>{this.placeTower=!this.placeTower};let o=document.createElement("button");o.innerText="Reset",o.classList.add("control-button"),o.onclick=()=>{this.reset()},i.appendChild(n),i.appendChild(a),i.appendChild(s),i.appendChild(o)},this.sizeFill=()=>{let e=0,t=0;this.map&&(e=this.map.tileSize.width*this.map.width+20,t=this.map.tileSize.height*this.map.height+20),this.canvas.width=window.innerWidth>e?window.innerWidth:e,this.canvas.height=window.innerHeight>t?window.innerHeight:t},this.addScore=e=>{this.money+=e,this.els.towerOverlay.classList.contains("visible")&&this.openTowerOverlay(),this.moneyCounter&&(this.els.moneyCount.innerText=this.money.toString())},this.takeLives=e=>{this.lives-=e,this.lives<0&&(this.lives=0),this.lifeCounter&&(this.els.lives.innerText=this.lives.toString())},this.start=()=>{this.state.paused=!1,this.animationFrame=requestAnimationFrame(this.loop)},this.pause=()=>{this.state.paused=!0,cancelAnimationFrame(this.animationFrame)},this.loop=e=>{let t=0===this.frameCount?1e3/60:e-this.lastTime;this.render(),this.update(.01*t*this.speed),this.fpsCounter&&this.frameCount%60==0&&(this.els.fps.innerText=Math.round(1e3/t).toString()),this.state.paused||requestAnimationFrame(this.loop),this.lastTime=e},this.getXOffset=()=>100,this.render=()=>{this.frameCount++,this.ctx.fillStyle="slategrey",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);let e={x:window.innerWidth/2-this.map.width*this.map.tileSize.width/2+this.getXOffset(),y:window.innerHeight/2-this.map.height*this.map.tileSize.height/2};if(this.map){for(let t=0;t<this.map.width;t++)for(let r=0;r<this.map.height;r++)this.map.getTile(t,r).render(this.ctx,t*this.map.tileSize.width,r*this.map.tileSize.height,this.map.tileSize,e,this.frameCount);for(let t of this.towers)t.render(this.ctx,e);for(let t of this.enemies)t.render(this.ctx,e);this.placeTower&&(this.ctx.fillStyle="#40e0d0AA",this.ctx.beginPath(),this.ctx.arc(this.mousePos.x,this.mousePos.y,10,0,2*Math.PI),this.ctx.fill())}},this.update=e=>{var t,r;let i={x:window.innerWidth/2-this.map.width*this.map.tileSize.width/2,y:window.innerHeight/2-this.map.height*this.map.tileSize.height/2};this.lives<=0&&this.killPlayer();for(let e in this.enemies)this.enemies[e].dead&&(this.enemies.splice(parseInt(e),1),this.enemyCounter&&(this.els.enemyCount.innerText=this.enemies.length.toString())),this.enemies.length>0&&this.enemies[e]&&this.enemies[e].survived&&(this.takeLives(this.enemies[e].getLivesValue()),this.enemies.splice(parseInt(e),1),this.enemyCounter&&(this.els.enemyCount.innerText=this.enemies.length.toString()));for(let t of this.towers)t.update(e,i,this.mousePos,this.enemies);for(let t of this.enemies)null==t||t.update(e);null===(t=this.wave)||void 0===t||t.update(e),0===this.enemies.length&&this.waveSent&&!this.nextLevelReady&&(this.nextLevelReady=!0,document.querySelector("#start-button").disabled=!1,this.currentWave<this.waves.waves.length-1?(this.addScore(this.wave.bonus),this.currentWave++,this.autoPlay?this.startWave(this.currentWave):(this.nextLevelReady=!0,document.querySelector("#start-button").disabled=!1)):(this.selectedTower=null,this.closeTowerOverlay(),null===(r=this.els.victoryOverlay)||void 0===r||r.classList.add("visible")))},null==this.canvas)throw new Error("No canvas element specified!");this.money=this.startingMoney,this.lives=this.startingLives,this.els.fps&&(this.fpsCounter=!0),this.els.enemyCount&&(this.enemyCounter=!0),this.els.moneyCount&&(this.moneyCounter=!0,this.updateBalance()),this.els.speed&&(this.speedDisplay=!0),this.els.lives&&(this.lifeCounter=!0,this.takeLives(0)),!0===this.config.fillScreen&&(this.sizeFill(),window.onresize=this.sizeFill),this.ctx=e.getContext("2d"),window.onclick=this.handleClick,window.oncontextmenu=this.handleClick,window.onmousemove=this.handleMouseMove,this.waves=new g(this)}}class v extends n{constructor(e,t){super(e,t),this.width=e,this.height=t,this.render=(e,t,r,i,n,a)=>{t%(2*i.width)==0?e.fillStyle=r%(2*i.height)==0?"#f0f0f0":"#d0d0d0":e.fillStyle=r%(2*i.height)==0?"#d0d0d0":"#f0f0f0",e.fillRect(t+n.x,r+n.y,i.width,i.height)}}}const y=r.p+"45e16207d01fc82bc9e94a2543385e32.png";class b extends n{constructor(e,t,r){super(e,t),this.width=e,this.height=t,this.seed=r,this.render=(e,t,r,i,n,a)=>{this.image&&e.drawImage(this.image,t+n.x,r+n.y,i.width,i.height),e.fillStyle=o()({format:"rgba",hue:"#808080",seed:this.seed,alpha:.05}),e.fillRect(t+n.x,r+n.y,i.width,i.height)},(0,h.po)(y).then((e=>{this.image=e}))}}const w=r.p+"30420161e9717d27ebfd79ad2c78d843.png";var _=r(236);class E extends n{constructor(e,t,r){super(e,t),this.width=e,this.height=t,this.seed=r,this.render=(e,t,r,i,n,a)=>{this.image&&e.drawImage(this.image,t+n.x,r+n.y,i.width,i.height);let s=100*this.perlin.getValue(a/100,this.seed,0)+155,o=.15*this.perlin.getValue(this.seed,a/100,0);e.fillStyle=`rgba(0, 0, ${s}, ${o})`,e.fillRect(t+n.x,r+n.y,i.width,i.height)},(0,h.po)(w).then((e=>{this.image=e})),this.perlin=new _.Perlin}}const x=r.p+"5ca0b0a32652b0a7044ae95f9ae38ff8.png";class M extends n{constructor(e,t,r){super(e,t),this.width=e,this.height=t,this.seed=r,this.render=(e,t,r,i,n,a)=>{this.image&&e.drawImage(this.image,t+n.x,r+n.y,i.width,i.height),e.fillStyle=o()({format:"rgba",hue:"brown",seed:this.seed,alpha:.05}),e.fillRect(t+n.x,r+n.y,i.width,i.height)},(0,h.po)(x).then((e=>{this.image=e}))}}class W{constructor(e,t){this.x=e,this.y=t}}class S{constructor(e=[]){this.nodes=e,this.getPositionAlongPath=(e,t)=>{let r=Math.floor(e/t.tileSize.width);if(r>=t.path.nodes.length)return!1;let i=t.path.nodes[r],n=e%t.tileSize.width,a=t.path.getNodeDirection(r),s={x:i.x*t.tileSize.width+t.tileSize.width/2,y:i.y*t.tileSize.height+t.tileSize.height/2},o={pos:{x:0,y:0},direction:0};if(n<t.tileSize.width/2)switch(a.from){case"south":o.pos.y=s.y-n+t.tileSize.height/2,o.pos.x=s.x,o.direction=Math.PI/2*3;break;case"north":o.pos.y=s.y+n-t.tileSize.height/2,o.pos.x=s.x,o.direction=Math.PI/2;break;case"east":o.pos.y=s.y,o.pos.x=s.x-n+t.tileSize.width/2,o.direction=Math.PI;break;case"west":o.pos.y=s.y,o.pos.x=s.x+n-t.tileSize.width/2,o.direction=0}else switch(a.to){case"north":o.pos.y=s.y-n+t.tileSize.height/2,o.pos.x=s.x,o.direction=Math.PI/2*3;break;case"south":o.pos.y=s.y+n-t.tileSize.height/2,o.pos.x=s.x,o.direction=Math.PI/2;break;case"west":o.pos.y=s.y,o.pos.x=s.x-n+t.tileSize.width/2,o.direction=Math.PI;break;case"east":o.pos.y=s.y,o.pos.x=s.x+n-t.tileSize.width/2,o.direction=0}return o},this.getNodeDirection=e=>{let t=this.nodes[e],r=this.nodes[e-1],i=this.nodes[e+1],n={from:null,to:null};if(r&&(r.y-t.y!=0&&(r.y-t.y>0?n.from="south":n.from="north"),r.x-t.x!=0&&(r.x-t.x>0?n.from="east":n.from="west")),i&&(i.y-t.y!=0&&(i.y-t.y>0?n.to="south":n.to="north"),i.x-t.x!=0&&(i.x-t.x>0?n.to="east":n.to="west")),!r)switch(n.to){case"south":n.from="north";break;case"north":n.from="south";break;case"east":n.from="west";break;case"west":n.from="east"}if(!i)switch(n.from){case"south":n.to="north";break;case"north":n.to="south";break;case"east":n.to="west";break;case"west":n.to="east"}return n}}}const T={name:"First",width:20,height:20,tileSize:{width:32,height:32},path:[[5,19],[5,18],[5,17],[4,17],[3,17],[2,17],[2,16],[2,15],[2,14],[2,13],[2,12],[2,11],[2,10],[2,9],[2,8],[2,7],[2,6],[2,5],[3,5],[3,4],[4,4],[4,3],[5,3],[5,2],[6,2],[7,2],[8,2],[9,2],[10,2],[11,2],[12,2],[13,2],[14,2],[15,2],[16,2],[17,2],[17,3],[17,4],[17,5],[17,6],[17,7],[17,8],[16,8],[15,8],[15,7],[15,6],[14,6],[13,6],[12,6],[12,7],[11,7],[11,8],[10,8],[10,9],[10,10],[10,11],[10,12],[10,13],[11,13],[12,13],[13,13],[14,13],[15,13],[15,14],[15,15],[16,15],[17,15],[17,16],[18,16],[19,16]],data:"WWWWWLLLLLWWWLLLLLLW\n           WWWLLLLLLWWWLLLLLLLW\n           WWLLLLLLWWWWLLLLLLWW\n           WWLLLLLLWWWLLLLLLLWW\n           WLLLLLLWWWLLLLLLLWWW\n           LLLLLLWWWLLLLLLLWWWW\n           LLLLLLLWWWLLLLLLWWWW\n           LLLLLLWWWLLLLLLLLWWW\n           LLLLLWWWLLLLLLLLLLLW\n           LLLLWWWWLLLLLLLLLLLW\n           LLLLLWWWLLLLLLLLLLWW\n           LLLLLWWLLLLLLLLLLWWW\n           LLLLWWWLLLLLLLLLLLWW\n           LLLLLWWWLLLLLLLLLLLW\n           LLLLLLWWWLLLLLLLLLLL\n           LLLLLLLWWWLLLLLLLLLL\n           LLLLLLLLWWWLLLLLLLLL\n           LLLLLLLWWWLLLLLLLLLL\n           LLLLLLLWWWWWWWWWWLLL\n           LLLLLLLLWWWWWWWWWWWW"},D={name:"Second",width:20,height:20,tileSize:{width:32,height:32},path:[[0,3],[1,3],[2,3],[3,3],[3,4],[4,4],[4,5],[5,5],[5,6],[5,7],[5,8],[6,8],[7,8],[8,8],[9,8],[9,7],[9,6],[9,5],[9,4],[9,3],[9,2],[10,2],[11,2],[11,3],[11,4],[11,5],[11,6],[11,7],[11,8],[11,9],[11,10],[10,10],[9,10],[8,10],[7,10],[6,10],[5,10],[5,11],[4,11],[4,12],[3,12],[3,13],[3,14],[3,15],[4,15],[5,15],[6,15],[7,15],[8,15],[9,15],[10,15],[11,15],[12,15],[13,15],[14,15],[15,15],[15,14],[15,13],[15,12],[15,11],[15,10],[15,9],[15,8],[15,7],[15,6],[16,6],[17,6],[17,7],[17,8],[17,9],[17,10],[17,11],[17,12],[17,13],[17,14],[17,15],[17,16],[17,17],[17,18],[17,19]],data:"LLLLLLLLLLLLWWWWWWWW\n           LLLLLWWLLLLLLLWWWWWW\n           LLLLLWWWLLLLLLLLWWWW\n           LLLLLLWWLLLLLLLLLWWW\n           LLLLLLLLLLLLLLLLLLLW\n           LLLLLLLLLLLLLLLLLLLL\n           WWWLLLLLLLLLLLLLLLLL\n           WWWWLLLLLLLLLLLLLLLL\n           WWWWLLLLLLLLLLLLLLLL\n           WWWWLLLLLLLLLLLLLLLL\n           WWWLLLLLLLLLLLLLLLLL\n           LLLLLLLLLLLLLLLLLLLL\n           LLLLLLLLWWWLLLLLLLLL\n           LLLLLLLWWWWWLLLLLLLW\n           LLLLLLWWWWWWWLLLLLLW\n           LLLLLLWWWWWWWLLLLLWW\n           LLLLLLLWWWWWWLLLLLWW\n           LLLLLLLLWWWLLLLLLLWW\n           LLLLLLLLLLLLLLLLLLWW\n           LLLLLLLLLLLLLLLLLLWW"};class O{constructor(){this.tiles=[],this.path=new S,this.maps=[T,D],this.width=0,this.height=0,this.tileSize={width:32,height:32},this.importMap=e=>{let t=e.data.replace(/\s+/g,"");this.path=new S,this.width=e.width,this.height=e.height,this.tileSize=e.tileSize,this.tiles=new Array(this.width*this.height).fill(new v(this.tileSize.width,this.tileSize.height));for(let e=0;e<t.length;e++)switch(t[e]){case"W":this.setTileRaw(e,new E(this.tileSize.width,this.tileSize.height,Math.floor(Math.random()*e*3)));break;case"L":this.setTileRaw(e,new l(this.tileSize.width,this.tileSize.height,Math.floor(Math.random()*e*3)))}let r=new b(this.tileSize.width,this.tileSize.height,1);for(let t in e.path){let i=e.path[t];r=this.getTile(i[0],i[1])instanceof l?new b(this.tileSize.width,this.tileSize.height,Math.floor(Math.random()*parseInt(t)*3)):new M(this.tileSize.width,this.tileSize.height,Math.floor(Math.random()*parseInt(t)*3)),this.setTile(i[0],i[1],r)}},this.clear=()=>{for(let e of this.tiles)e.occupied=!1},this.setTileRaw=(e,t)=>{this.tiles[e]=t},this.setTile=(e,t,r)=>{(r instanceof b||r instanceof M)&&this.path.nodes.push(new W(e,t)),this.tiles[t*this.width+e]=r},this.getTile=(e,t)=>this.tiles[t*this.width+e],this.importMap(this.maps[0])}}window.onload=()=>{const e=new m(document.getElementById("game"),{fillScreen:!0},{gameControls:document.getElementById("game-controls"),towerOverlay:document.getElementById("tower-overlay"),fps:document.getElementById("fps"),lives:document.getElementById("lives"),enemyCount:document.getElementById("enemy-count"),moneyCount:document.getElementById("money"),speed:document.getElementById("speed"),victoryOverlay:document.getElementById("victory")});let t=new O;e.start(),e.loadMap(t),window.onkeydown=t=>{switch(t.code){case"Digit1":e.createEnemy(new p(1,e.map,e));break;case"Digit2":e.createEnemy(new p(2,e.map,e));break;case"Digit3":e.createEnemy(new p(3,e.map,e));break;case"Digit4":e.createEnemy(new p(4,e.map,e));break;case"Digit5":e.createEnemy(new p(5,e.map,e));break;case"Digit6":e.createEnemy(new p(6,e.map,e));break;case"Digit7":e.createEnemy(new p(10,e.map,e));break;case"Digit8":e.createEnemy(new p(15,e.map,e));break;case"KeyP":e.placeTower=!0;break;case"Escape":e.placeTower=!1,e.clear();break;case"ArrowRight":e.increaseSpeed();break;case"ArrowLeft":e.decreaseSpeed();break;default:console.log(t.code)}}}})()})();